[TOC]

## 实时数仓分层设计

![Snipaste_2022-11-28_21-01-30](assets/Snipaste_2022-11-28_21-01-30.png)

| 分层 | 数据流                                                       | 工具                               | 存储介质     |
| ---- | ------------------------------------------------------------ | ---------------------------------- | ------------ |
| ODS  | 原始数据，日志和业务数据                                     | 日志服务器，FlinkCDC/Maxwell/Canal | Kafka        |
| DWD  | 根据数据对象为单位进行分流，比如订单、页面访问等等。         | Flink                              | Kafka        |
| DWM  | 对于部分数据对象进行进一步加工，比如独立访问、跳出行为。依旧是明细数据。 | Flink                              | Kafka        |
| DIM  | 维度数据                                                     | Flink                              | HBase        |
| DWS  | 根据某个维度主题将多个事实数据轻度聚合，形成宽表             | Flink                              | Clickhouse   |
| ADS  | 把 Clickhouse 中的数据根据可视化需要进行筛选聚合             | ClickhouseSQL                      | 可视化BI工具 |

